@page "/items"


<div class="items-container">
    <div class="page-header">
        <h1 class="page-title">Մեր երաժշտական գործիքների ընտրանին</h1>
        <p class="page-subtitle">Գտիր քո անթերի գործիքը</p>
    </div>

    <div class="filters-section">
        <div class="filter-group">
            <label class="filter-label">Որոնել</label>
            <input type="text" class="filter-input" placeholder="Որոնել գործիքներ..." @bind="_searchTerm"/>
        </div>

        <div class="filter-group">
            <label class="filter-label">Մին․ գին (Դր)</label>
            <input type="number" class="filter-input" placeholder="0" min="0" step="5000" @bind="_minPrice"/>
        </div>

        <div class="filter-group">
            <label class="filter-label">Մաքս․ գին (Դր)</label>
            <input type="number" class="filter-input" placeholder="10000" min="0" step="5000" @bind="_maxPrice"/>
        </div>

        <button class="btn-filter" @onclick="ApplyFilters">Կիրառել ֆիլտրները</button>
        <button class="btn-reset" href="/items" @onclick="ResetFilters">Վերականգնել</button>
    </div>

    <div class="items-grid">
        @if (ItemDtos is null)
        {
            <p>Loading...</p>
        }
        else 
        {
            @foreach(var Item in ItemDtos)
            {
                <div class="item-card">
                    <div class="item-image-container">
                        @if (!string.IsNullOrEmpty(@Item.ImageUrl))
                        {
                            <img src="@Item.ImageUrl" alt="@Item.Name" class="item-image" />
                        }
                        else
                        {
                            <div class="item-image-placeholder">
                                <span class="placeholder-icon">🎸</span>
                            </div>
                        }
                    </div>
                    <div class="item-details">
                        <h3 class="item-name">@Item.Name</h3>
                        <p class="item-price">@Item.Amount Դր․</p>
                        <a href="/item/{@Item.Id}" class="btn-view">Տեսնել մանրամասները</a>
                    </div>
                </div>
            }

        }

        <!-- Add more items dynamically through your C# code -->
    </div>

    <div class="no-results" style="display: none;">
        <p>Արդյունքներ չի գտնվել</p>
    </div>
</div>
