@page "/item/{id}"

<div class="item-detail-container">
    <div class="back-navigation">
        <a href="/items" class="back-link">← Վերադառնալ</a>
    </div>
    @if (ItemDto is null)
    {
        <p>Loading...</p>
    }
    else
    {
        
        <div class="detail-content">
            <div class="detail-image-section">
                @if (!string.IsNullOrEmpty(ItemDto.ImageUrl))
                {
                    <img src="@ItemDto.ImageUrl" alt="@ItemDto.Name" class="detail-image" />
                }
                else
                {                   
                    <div class="detail-image-placeholder">
                        <span class="detail-placeholder-icon">🎸</span>
                    </div>
                }
            </div>

            <div class="detail-info-section">
                <h1 class="detail-title">@ItemDto.Name</h1>

                <div class="detail-price-section">
                    <span class="detail-price">@ItemDto.Amount Դր․</span>
                    <span class="detail-stock">In Stock</span>
                </div>

                <div class="detail-description">
                    <h3 class="section-heading">Բնութագիր</h3>
                    <p class="description-text">
                        @ItemDto.Description.DescriptionText
                    </p>
                </div>
                <div class="detail-actions">
                    <button class="btn-order" @onclick="ShowModel">Պատվիրել</button>
                </div>

                @if (showModel)
                {
                    <AuthorizeView>
                        <Authorized>
                            <div class="modal-overlay" @onclick="CloseModel">
                                <div class="modal-content" @onclick:stopPropagation="true">
                                    <div class="modal-header">
                                        <h2 class="modal-title">Պատվիրիր հիմա</h2>
                                        <button class="btn-close" @onclick="CloseModel">×</button>
                                    </div>

                                    <div class="modal-body">
                                        <div class="form-group">
                                            <label class="form-label">Item Name</label>
                                            <input type="text" class="form-input" placeholder="Մուտքագրեք առաքման հասցե" @bind="_address" />
                                        </div>
                                    </div>

                                    <div class="modal-footer">
                                        <button class="btn-secondary" @onclick="CloseModel">Չեղարկել</button>
                                        <button class="btn-primary" @onclick="SaveAsync">Պատվիրել</button>
                                    </div>
                                </div>
                            </div>
                        </Authorized>
                        <NotAuthorized>
                            <RedirectToLogin/>
                        </NotAuthorized>
                    </AuthorizeView>
                }
            </div>

        </div>
    }
</div>


@code
{


    [
    Parameter
    ]


    public

    string
     Id
    {

        get
        ;

        set
        ;

    }



    // Add your C# logic here


    // Example properties:


    // private InstrumentDetail instrument;



    // protected override async Task OnInitializedAsync()


    // {


    //     await LoadInstrument();


    // }



    // private async Task LoadInstrument()


    // {


    //     // Load instrument details from API using Id parameter


    // }



    // private async Task OrderNow()


    // {


    //     // Handle order logic


    // }



    // private async Task AddToCart()


    // {


    //     // Handle add to cart logic


    // }

}